<!doctype html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Card Matching Game</title>
  <link rel="icon" type="image/png"
    href="https://res.cloudinary.com/dmrdg40kx/image/upload/v1771034619/Logo_urvu0r.png" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="wave-bg"></div>
  <div class="falling-container" id="falling-container"></div>
  <div class="main-container" id="menu-screen">
    <h1 class="game-title">Card Matching Game</h1>
    <div class="options-frame" id="main-options">
      <button class="btn" id="start-btn" onclick="startGame(1)">Start</button>
      <button class="btn" id="tutorial-btn" onclick="showFrame('tutorial-frame')">
        Instruction
      </button>
      <button class="btn" id="setting-btn" onclick="showFrame('settings-frame')">
        Setting
      </button>
    </div>
    <div class="options-frame" id="level-frame" style="display: none">
      <h2>Select Level</h2>
      <button class="btn" onclick="startGame(1)">Level 1</button>
      <button class="btn" onclick="startGame(2)">Level 2</button>
      <button class="btn" onclick="startGame(3)">Level 3</button>
      <button class="btn back-btn" onclick="showFrame('main-options')">
        Back
      </button>
    </div>
    <div class="options-frame" id="settings-frame" style="display: none">
      <h2>Settings</h2>
      <button class="btn" id="topic-btn" onclick="showFrame('topic-frame')">
        Topic
      </button>
      <button class="btn" id="music-list-btn" onclick="openPlaylist()">
        Music
      </button>
      <button class="btn back-btn" onclick="showFrame('main-options')">
        Back
      </button>
    </div>
    <div class="options-frame" id="playlist-frame" style="display: none">
      <h2>Select Song</h2>
      <div class="topic-list" id="playlist-container"></div>
      <button class="btn back-btn" onclick="showFrame('settings-frame')">
        Back
      </button>
    </div>
    <div class="options-frame" id="topic-frame" style="display: none">
      <h2>Select Topic</h2>
      <div class="topic-list" id="topic-container"></div>
      <button class="btn back-btn" id="topic-back-btn" onclick="showFrame('settings-frame')">
        Back
      </button>
    </div>
    <div class="options-frame" id="tutorial-frame" style="display: none">
      <h2>Hướng Dẫn</h2>
      <div class="tutorial-content">
        <p>Mục tiêu: Tìm và lật tất cả các cặp hình giống nhau.</p>
        <p>Luật chơi: Mỗi lần được lật 2 thẻ.</p>
        <p>
          Điểm số: Đúng được <b>+5 (+10) điểm</b>, sai bị
          <b>-5 (-10) điểm</b>.
        </p>
        <p>Thắng: Ghép hết cặp trong thời gian và điểm &ge; 50.</p>
        <p>Thua: Hết thời gian hoặc điểm về 0.</p>
        <p>
          Chủ đề: Có thể thay đổi hình ảnh bộ bài trong mục
          <b>Setting &gt; Topic</b>.
        </p>
      </div>
      <button class="btn back-btn" onclick="showFrame('main-options')">
        Back
      </button>
    </div>
  </div>
  <div class="game-screen" id="game-screen">
    <div class="game-status-bar">
      <div class="status-item">
        <span class="status-label">Level:</span>
        <span class="status-value" id="level-val">1</span>
      </div>

      <div class="timer-container" title="Time Left">
        <div class="timer-fill" id="timer-bar"></div>
      </div>

      <div class="status-item">
        <span class="status-label">Score:</span>
        <span class="status-value" id="score-val">100</span>
      </div>
    </div>

    <div class="game-board" id="game-board"></div>
    <button class="btn" id="pause-btn" onclick="pauseGame()" style="margin-top: 20px">
      Pause Game
    </button>

    <div class="countdown-overlay" id="countdown-overlay">
      <div id="countdown-text">3</div>
    </div>
  </div>
  <div class="modal-overlay" id="pause-modal">
    <div class="modal-content">
      <h2 class="modal-title">Paused</h2>
      <div class="modal-buttons">
        <button class="btn" id="pause-music-btn" onclick="toggleMusic()">
          Music: OFF
        </button>
        <button class="btn" onclick="resumeGame()">Continue</button>
        <button class="btn" onclick="restartLevel()">Replay</button>
        <button class="btn back-btn" onclick="exitGame()">Exit</button>
      </div>
    </div>
  </div>
  <div class="modal-overlay" id="result-modal">
    <div class="modal-content">
      <h2 class="modal-title" id="modal-title">Success</h2>
      <p class="modal-score">
        Final Score: <span id="final-score-val">100</span>
      </p>
      <div class="modal-buttons" id="modal-buttons-container">
        <button class="btn" onclick="restartLevel()">Play Again</button>
        <button class="btn back-btn" onclick="exitGame()">Exit</button>
      </div>
    </div>
  </div>
  <div class="toast" id="toast">
    <span>Saved Successfully!</span>
  </div>

  <audio id="bg-music">
    <source src="" type="audio/mpeg" />
  </audio>
  <audio id="sound-win" src="asset/effect/win.mp3"></audio>
  <audio id="sound-fail" src="asset/effect/fail.mp3"></audio>
  <audio id="sound-pop" src="asset/effect/pop.mp3"></audio>
  <audio id="sound-swap" src="asset/effect/swap.mp3"></audio>
  <audio id="sound-ting" src="asset/effect/ting.mp3"></audio>
  <audio id="sound-money" src="asset/effect/money.mp3"></audio>

  <script src="script.js"></script>
</body>

</html>